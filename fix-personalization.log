
> marketsage@0.1.0 dev
> next dev -H 0.0.0.0

   ‚ñ≤ Next.js 15.3.4
   - Local:        http://localhost:3000
   - Network:      http://0.0.0.0:3000
   - Environments: .env.local, .env

 ‚úì Starting...
 ‚úì Ready in 1597ms
 ‚úì Compiled /middleware in 260ms (256 modules)
[2025-07-07T14:16:36.823Z] INFO: API Request: GET /api/auth/csrf {"method":"GET","path":"/api/auth/csrf","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 ‚úì Compiled /api/auth/[...nextauth] in 450ms (627 modules)
 GET /api/auth/csrf 200 in 945ms
[2025-07-07T14:16:37.784Z] INFO: API Request: POST /api/auth/callback/credentials {"method":"POST","path":"/api/auth/callback/credentials","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 POST /api/auth/callback/credentials 200 in 76ms
[2025-07-07T14:16:37.873Z] INFO: API Request: GET /api/auth/session {"method":"GET","path":"/api/auth/session","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 GET /api/auth/session 200 in 9ms
[2025-07-07T14:16:37.887Z] INFO: API Request: GET /api/contacts {"method":"GET","path":"/api/contacts","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 ‚úì Compiled /api/contacts in 433ms (893 modules)
Creating new Prisma client instance
Successfully connected to database
 GET /api/contacts 200 in 571ms
[2025-07-07T14:16:38.467Z] INFO: API Request: PUT /api/contacts/479dd5a2-4b73-49e6-891d-2ab9f718f44d {"method":"PUT","path":"/api/contacts/479dd5a2-4b73-49e6-891d-2ab9f718f44d","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 ‚úì Compiled /api/contacts/[id] in 170ms (895 modules)
Using existing Prisma client instance
Successfully connected to database
Creating new Prisma client instance
 PUT /api/contacts/479dd5a2-4b73-49e6-891d-2ab9f718f44d 405 in 503ms
Successfully connected to database
[2025-07-07T14:17:04.982Z] INFO: API Request: GET /api/auth/csrf {"method":"GET","path":"/api/auth/csrf","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 GET /api/auth/csrf 200 in 24ms
[2025-07-07T14:17:05.019Z] INFO: API Request: POST /api/auth/callback/credentials {"method":"POST","path":"/api/auth/callback/credentials","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 POST /api/auth/callback/credentials 200 in 69ms
[2025-07-07T14:17:05.095Z] INFO: API Request: GET /api/auth/session {"method":"GET","path":"/api/auth/session","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 GET /api/auth/session 200 in 11ms
[2025-07-07T14:17:05.111Z] INFO: API Request: GET /api/lists {"method":"GET","path":"/api/lists","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 ‚úì Compiled /api/lists in 362ms (897 modules)
Using existing Prisma client instance
Successfully connected to database
 GET /api/lists 200 in 485ms
[2025-07-07T14:17:05.603Z] INFO: API Request: POST /api/email/campaigns {"method":"POST","path":"/api/email/campaigns","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 ‚úì Compiled /api/email/campaigns in 108ms (899 modules)
Using existing Prisma client instance
Successfully connected to database
Campaign creation request body: {
  "name": "MarketSage Personalized Campaign - 2025-07-07",
  "subject": "üöÄ {{firstName}}, Transform Your Marketing with MarketSage - Exclusive Offer Inside!",
  "from": "info@marketsage.africa",
  "replyTo": "hello@marketsage.africa",
  "content": "\n<div style=\"font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 600px; margin: 0 auto; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px; overflow: hidden;\">\n  \n  <!-- Header -->\n  <div style=\"background: rgba(255,255,255,0.95); padding: 30px; text-align: center;\">\n    <h1 style=\"color: #2c3e50; margin: 0; font-size: 28px; font-weight: 700;\">\n      üöÄ Welcome to MarketSage\n    </h1>\n    <p style=\"color: #7f8c8d; margin: 10px 0 0 0; font-size: 16px;\">\n      Smart Marketing Solutions for African Businesses\n    </p>\n  </div>\n\n  <!-- Main Content -->\n  <div style=\"background: white; padding: 40px 30px;\">\n    \n    <h2 style=\"color: #2c3e50; margin-bottom: 20px; font-size: 24px;\">\n      Transform Your Marketing Today! üéØ\n    </h2>\n    \n    <p style=\"color: #34495e; line-height: 1.6; font-size: 16px; margin-bottom: 25px;\">\n      Dear {{firstName}},\n    </p>\n    \n    <p style=\"color: #34495e; line-height: 1.6; font-size: 16px; margin-bottom: 25px;\">\n      Are you ready to revolutionize your marketing strategy? MarketSage is the complete marketing automation platform designed specifically for African businesses like yours.\n    </p>\n\n    <!-- Features Grid -->\n    <div style=\"margin: 30px 0;\">\n      \n      <div style=\"background: #f8f9fa; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 4px solid #3498db;\">\n        <h3 style=\"color: #2c3e50; margin: 0 0 10px 0; font-size: 18px;\">üìß Email Marketing Mastery</h3>\n        <p style=\"color: #34495e; margin: 0; line-height: 1.5;\">\n          Create stunning email campaigns with our visual editor. Advanced automation, A/B testing, and detailed analytics included.\n        </p>\n      </div>\n\n      <div style=\"background: #f8f9fa; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 4px solid #e74c3c;\">\n        <h3 style=\"color: #2c3e50; margin: 0 0 10px 0; font-size: 18px;\">üì± SMS & WhatsApp Campaigns</h3>\n        <p style=\"color: #34495e; margin: 0; line-height: 1.5;\">\n          Reach your customers instantly with SMS and WhatsApp marketing. Perfect for time-sensitive promotions and updates.\n        </p>\n      </div>\n\n      <div style=\"background: #f8f9fa; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 4px solid #f39c12;\">\n        <h3 style=\"color: #2c3e50; margin: 0 0 10px 0; font-size: 18px;\">ü§ñ AI-Powered Intelligence</h3>\n        <p style=\"color: #34495e; margin: 0; line-height: 1.5;\">\n          Our Supreme-AI engine provides intelligent insights, customer segmentation, and predictive analytics tailored for African markets.\n        </p>\n      </div>\n\n      <div style=\"background: #f8f9fa; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 4px solid #27ae60;\">\n        <h3 style=\"color: #2c3e50; margin: 0 0 10px 0; font-size: 18px;\">üìä LeadPulse Analytics</h3>\n        <p style=\"color: #34495e; margin: 0; line-height: 1.5;\">\n          Real-time visitor tracking, conversion analytics, and customer journey mapping to optimize your marketing funnel.\n        </p>\n      </div>\n\n      <div style=\"background: #f8f9fa; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 4px solid #9b59b6;\">\n        <h3 style=\"color: #2c3e50; margin: 0 0 10px 0; font-size: 18px;\">‚ö° Workflow Automation</h3>\n        <p style=\"color: #34495e; margin: 0; line-height: 1.5;\">\n          Build sophisticated marketing workflows with our drag-and-drop editor. Automate everything from lead nurturing to customer retention.\n        </p>\n      </div>\n\n    </div>\n\n    <!-- Personal Message -->\n    <div style=\"background: #e8f5e8; padding: 20px; border-radius: 8px; margin: 25px 0; border-left: 4px solid #27ae60;\">\n      <p style=\"color: #2c3e50; margin: 0; line-height: 1.6; font-size: 16px;\">\n        <strong>{{firstName}}, as a valued member of our community,</strong> we're excited to offer you exclusive early access to our advanced features and personalized onboarding support.\n      </p>\n    </div>\n\n    <!-- Special Offer -->\n    <div style=\"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 25px; border-radius: 10px; text-align: center; margin: 30px 0; color: white;\">\n      <h3 style=\"margin: 0 0 15px 0; font-size: 20px;\">üéâ Exclusive Launch Offer for {{firstName}}</h3>\n      <p style=\"margin: 0 0 20px 0; font-size: 16px; opacity: 0.9;\">\n        Get started with MarketSage today and receive <strong>3 months FREE</strong> on any annual plan, plus personalized setup assistance!\n      </p>\n      <a href=\"https://marketsage.africa/pricing?ref={{email}}\" style=\"display: inline-block; background: white; color: #667eea; padding: 12px 30px; text-decoration: none; border-radius: 25px; font-weight: 600; font-size: 16px;\">\n        Claim Your Offer üöÄ\n      </a>\n    </div>\n\n    <!-- Testimonial -->\n    <div style=\"background: #ecf0f1; padding: 20px; border-radius: 8px; margin: 25px 0; border-left: 4px solid #34495e;\">\n      <p style=\"color: #2c3e50; font-style: italic; margin: 0 0 10px 0; line-height: 1.6;\">\n        \"MarketSage transformed our customer engagement. We saw a 300% increase in email open rates and 150% boost in conversions within the first month!\"\n      </p>\n      <p style=\"color: #7f8c8d; margin: 0; font-size: 14px;\">\n        ‚Äî Adaora Okafor, Marketing Director, Lagos Tech Hub\n      </p>\n    </div>\n\n    <!-- African Markets Focus -->\n    <div style=\"margin: 30px 0;\">\n      <h3 style=\"color: #2c3e50; margin-bottom: 15px; font-size: 20px;\">üåç Built for African Markets</h3>\n      <p style=\"color: #34495e; line-height: 1.6; margin-bottom: 15px;\">\n        MarketSage understands the unique challenges and opportunities in African markets:\n      </p>\n      <ul style=\"color: #34495e; line-height: 1.8; padding-left: 20px;\">\n        <li>Multi-currency support (NGN, KES, ZAR, GHS)</li>\n        <li>Local payment gateway integrations (Paystack, Flutterwave)</li>\n        <li>Cultural intelligence for personalized messaging</li>\n        <li>Mobile-first design for high mobile penetration</li>\n        <li>Multi-language support for diverse markets</li>\n      </ul>\n    </div>\n\n    <!-- Call to Action -->\n    <div style=\"text-align: center; margin: 40px 0 20px 0;\">\n      <a href=\"https://marketsage.africa/demo?ref={{email}}\" style=\"display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px 40px; text-decoration: none; border-radius: 30px; font-weight: 600; font-size: 18px; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);\">\n        Book Your Personal Demo üìÖ\n      </a>\n    </div>\n\n    <p style=\"color: #7f8c8d; text-align: center; font-size: 14px; margin: 20px 0;\">\n      No credit card required ‚Ä¢ 14-day free trial ‚Ä¢ Cancel anytime\n    </p>\n\n  </div>\n\n  <!-- Footer -->\n  <div style=\"background: #2c3e50; color: white; padding: 30px; text-align: center;\">\n    <h4 style=\"margin: 0 0 15px 0; color: #3498db;\">Ready to Get Started, {{firstName}}?</h4>\n    <p style=\"margin: 0 0 20px 0; opacity: 0.8; line-height: 1.6;\">\n      Join thousands of African businesses already using MarketSage to grow their customer base and increase revenue.\n    </p>\n    \n    <div style=\"margin: 20px 0;\">\n      <a href=\"mailto:info@marketsage.africa\" style=\"color: #3498db; text-decoration: none; margin: 0 15px;\">üìß info@marketsage.africa</a>\n      <a href=\"https://marketsage.africa\" style=\"color: #3498db; text-decoration: none; margin: 0 15px;\">üåê www.marketsage.africa</a>\n    </div>\n    \n    <p style=\"margin: 15px 0 0 0; font-size: 12px; opacity: 0.7;\">\n      This email was sent to {{email}}. Questions? Just reply to this email.\n    </p>\n  </div>\n\n</div>\n",
  "listIds": [
    "test-list-001"
  ]
}
 POST /api/email/campaigns 201 in 232ms
[2025-07-07T14:17:05.840Z] INFO: API Request: POST /api/email/campaigns/373663a2-d062-4f93-90ba-1cf84f3d286b/send {"method":"POST","path":"/api/email/campaigns/373663a2-d062-4f93-90ba-1cf84f3d286b/send","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 ‚úì Compiled /api/email/campaigns/[id]/send in 114ms (901 modules)
Using existing Prisma client instance
Successfully connected to database
Creating new Prisma client instance
=== SEND ENDPOINT ENTRY POINT ===
Send endpoint called
Session: exists
Campaign ID: 373663a2-d062-4f93-90ba-1cf84f3d286b
Request body: {}
Validation result: { success: true, data: { useOptimalSendTime: false } }
Calling sendCampaign function...
Successfully connected to database
[2025-07-07T14:17:09.358Z] INFO: Email sent successfully via SMTP {"to":"supremeoye@outlook.com","subject":"üöÄ {{firstName}}, Transform Your Marketing with MarketSage - Exclusive Offer Inside!","messageId":"<29929890-f98c-4e6a-99ca-ec8148476472@marketsage.africa>","smtpHost":"smtppro.zoho.com"}
[2025-07-07T14:17:09.368Z] INFO: Email sent and activity recorded {"contactId":"28125882-ffe4-4cf4-82c2-a322814b4876","campaignId":"373663a2-d062-4f93-90ba-1cf84f3d286b","messageId":"<29929890-f98c-4e6a-99ca-ec8148476472@marketsage.africa>"}
[2025-07-07T14:17:55.382Z] INFO: Email sent successfully via SMTP {"to":"kolajosph87@gmail.com","subject":"üöÄ {{firstName}}, Transform Your Marketing with MarketSage - Exclusive Offer Inside!","messageId":"<7cb4fa92-09c9-4748-8cf5-5007ebeffcf9@marketsage.africa>","smtpHost":"smtppro.zoho.com"}
[2025-07-07T14:17:55.415Z] INFO: Email sent and activity recorded {"contactId":"479dd5a2-4b73-49e6-891d-2ab9f718f44d","campaignId":"373663a2-d062-4f93-90ba-1cf84f3d286b","messageId":"<7cb4fa92-09c9-4748-8cf5-5007ebeffcf9@marketsage.africa>"}
Campaign send result: {
  success: true,
  totalContacts: 2,
  sentCount: 2,
  failedCount: 0,
  details: {}
}
 POST /api/email/campaigns/373663a2-d062-4f93-90ba-1cf84f3d286b/send 200 in 49593ms
 ‚úì Compiled in 18ms
[2025-07-07T14:24:27.266Z] INFO: API Request: GET /api/auth/csrf {"method":"GET","path":"/api/auth/csrf","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 ‚úì Compiled /api/auth/[...nextauth] in 187ms (348 modules)
 GET /api/auth/csrf 200 in 267ms
[2025-07-07T14:24:27.548Z] INFO: API Request: POST /api/auth/callback/credentials {"method":"POST","path":"/api/auth/callback/credentials","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 POST /api/auth/callback/credentials 200 in 63ms
[2025-07-07T14:24:27.617Z] INFO: API Request: GET /api/auth/session {"method":"GET","path":"/api/auth/session","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 GET /api/auth/session 200 in 9ms
[2025-07-07T14:24:27.630Z] INFO: API Request: GET /api/lists {"method":"GET","path":"/api/lists","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 ‚úì Compiled /api/lists in 37ms (369 modules)
Using existing Prisma client instance
Successfully connected to database
 GET /api/lists 200 in 169ms
[2025-07-07T14:24:27.805Z] INFO: API Request: POST /api/email/campaigns {"method":"POST","path":"/api/email/campaigns","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 ‚úì Compiled /api/email/campaigns in 44ms (371 modules)
Using existing Prisma client instance
Successfully connected to database
Campaign creation request body: {
  "name": "MarketSage Personalized Campaign - 2025-07-07",
  "subject": "üöÄ {{firstName}}, Transform Your Marketing with MarketSage - Exclusive Offer Inside!",
  "from": "info@marketsage.africa",
  "replyTo": "hello@marketsage.africa",
  "content": "\n<div style=\"font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 600px; margin: 0 auto; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px; overflow: hidden;\">\n  \n  <!-- Header -->\n  <div style=\"background: rgba(255,255,255,0.95); padding: 30px; text-align: center;\">\n    <h1 style=\"color: #2c3e50; margin: 0; font-size: 28px; font-weight: 700;\">\n      üöÄ Welcome to MarketSage\n    </h1>\n    <p style=\"color: #7f8c8d; margin: 10px 0 0 0; font-size: 16px;\">\n      Smart Marketing Solutions for African Businesses\n    </p>\n  </div>\n\n  <!-- Main Content -->\n  <div style=\"background: white; padding: 40px 30px;\">\n    \n    <h2 style=\"color: #2c3e50; margin-bottom: 20px; font-size: 24px;\">\n      Transform Your Marketing Today! üéØ\n    </h2>\n    \n    <p style=\"color: #34495e; line-height: 1.6; font-size: 16px; margin-bottom: 25px;\">\n      Dear {{firstName}},\n    </p>\n    \n    <p style=\"color: #34495e; line-height: 1.6; font-size: 16px; margin-bottom: 25px;\">\n      Are you ready to revolutionize your marketing strategy? MarketSage is the complete marketing automation platform designed specifically for African businesses like yours.\n    </p>\n\n    <!-- Features Grid -->\n    <div style=\"margin: 30px 0;\">\n      \n      <div style=\"background: #f8f9fa; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 4px solid #3498db;\">\n        <h3 style=\"color: #2c3e50; margin: 0 0 10px 0; font-size: 18px;\">üìß Email Marketing Mastery</h3>\n        <p style=\"color: #34495e; margin: 0; line-height: 1.5;\">\n          Create stunning email campaigns with our visual editor. Advanced automation, A/B testing, and detailed analytics included.\n        </p>\n      </div>\n\n      <div style=\"background: #f8f9fa; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 4px solid #e74c3c;\">\n        <h3 style=\"color: #2c3e50; margin: 0 0 10px 0; font-size: 18px;\">üì± SMS & WhatsApp Campaigns</h3>\n        <p style=\"color: #34495e; margin: 0; line-height: 1.5;\">\n          Reach your customers instantly with SMS and WhatsApp marketing. Perfect for time-sensitive promotions and updates.\n        </p>\n      </div>\n\n      <div style=\"background: #f8f9fa; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 4px solid #f39c12;\">\n        <h3 style=\"color: #2c3e50; margin: 0 0 10px 0; font-size: 18px;\">ü§ñ AI-Powered Intelligence</h3>\n        <p style=\"color: #34495e; margin: 0; line-height: 1.5;\">\n          Our Supreme-AI engine provides intelligent insights, customer segmentation, and predictive analytics tailored for African markets.\n        </p>\n      </div>\n\n      <div style=\"background: #f8f9fa; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 4px solid #27ae60;\">\n        <h3 style=\"color: #2c3e50; margin: 0 0 10px 0; font-size: 18px;\">üìä LeadPulse Analytics</h3>\n        <p style=\"color: #34495e; margin: 0; line-height: 1.5;\">\n          Real-time visitor tracking, conversion analytics, and customer journey mapping to optimize your marketing funnel.\n        </p>\n      </div>\n\n      <div style=\"background: #f8f9fa; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 4px solid #9b59b6;\">\n        <h3 style=\"color: #2c3e50; margin: 0 0 10px 0; font-size: 18px;\">‚ö° Workflow Automation</h3>\n        <p style=\"color: #34495e; margin: 0; line-height: 1.5;\">\n          Build sophisticated marketing workflows with our drag-and-drop editor. Automate everything from lead nurturing to customer retention.\n        </p>\n      </div>\n\n    </div>\n\n    <!-- Personal Message -->\n    <div style=\"background: #e8f5e8; padding: 20px; border-radius: 8px; margin: 25px 0; border-left: 4px solid #27ae60;\">\n      <p style=\"color: #2c3e50; margin: 0; line-height: 1.6; font-size: 16px;\">\n        <strong>{{firstName}}, as a valued member of our community,</strong> we're excited to offer you exclusive early access to our advanced features and personalized onboarding support.\n      </p>\n    </div>\n\n    <!-- Special Offer -->\n    <div style=\"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 25px; border-radius: 10px; text-align: center; margin: 30px 0; color: white;\">\n      <h3 style=\"margin: 0 0 15px 0; font-size: 20px;\">üéâ Exclusive Launch Offer for {{firstName}}</h3>\n      <p style=\"margin: 0 0 20px 0; font-size: 16px; opacity: 0.9;\">\n        Get started with MarketSage today and receive <strong>3 months FREE</strong> on any annual plan, plus personalized setup assistance!\n      </p>\n      <a href=\"https://marketsage.africa/pricing?ref={{email}}\" style=\"display: inline-block; background: white; color: #667eea; padding: 12px 30px; text-decoration: none; border-radius: 25px; font-weight: 600; font-size: 16px;\">\n        Claim Your Offer üöÄ\n      </a>\n    </div>\n\n    <!-- Testimonial -->\n    <div style=\"background: #ecf0f1; padding: 20px; border-radius: 8px; margin: 25px 0; border-left: 4px solid #34495e;\">\n      <p style=\"color: #2c3e50; font-style: italic; margin: 0 0 10px 0; line-height: 1.6;\">\n        \"MarketSage transformed our customer engagement. We saw a 300% increase in email open rates and 150% boost in conversions within the first month!\"\n      </p>\n      <p style=\"color: #7f8c8d; margin: 0; font-size: 14px;\">\n        ‚Äî Adaora Okafor, Marketing Director, Lagos Tech Hub\n      </p>\n    </div>\n\n    <!-- African Markets Focus -->\n    <div style=\"margin: 30px 0;\">\n      <h3 style=\"color: #2c3e50; margin-bottom: 15px; font-size: 20px;\">üåç Built for African Markets</h3>\n      <p style=\"color: #34495e; line-height: 1.6; margin-bottom: 15px;\">\n        MarketSage understands the unique challenges and opportunities in African markets:\n      </p>\n      <ul style=\"color: #34495e; line-height: 1.8; padding-left: 20px;\">\n        <li>Multi-currency support (NGN, KES, ZAR, GHS)</li>\n        <li>Local payment gateway integrations (Paystack, Flutterwave)</li>\n        <li>Cultural intelligence for personalized messaging</li>\n        <li>Mobile-first design for high mobile penetration</li>\n        <li>Multi-language support for diverse markets</li>\n      </ul>\n    </div>\n\n    <!-- Call to Action -->\n    <div style=\"text-align: center; margin: 40px 0 20px 0;\">\n      <a href=\"https://marketsage.africa/demo?ref={{email}}\" style=\"display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px 40px; text-decoration: none; border-radius: 30px; font-weight: 600; font-size: 18px; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);\">\n        Book Your Personal Demo üìÖ\n      </a>\n    </div>\n\n    <p style=\"color: #7f8c8d; text-align: center; font-size: 14px; margin: 20px 0;\">\n      No credit card required ‚Ä¢ 14-day free trial ‚Ä¢ Cancel anytime\n    </p>\n\n  </div>\n\n  <!-- Footer -->\n  <div style=\"background: #2c3e50; color: white; padding: 30px; text-align: center;\">\n    <h4 style=\"margin: 0 0 15px 0; color: #3498db;\">Ready to Get Started, {{firstName}}?</h4>\n    <p style=\"margin: 0 0 20px 0; opacity: 0.8; line-height: 1.6;\">\n      Join thousands of African businesses already using MarketSage to grow their customer base and increase revenue.\n    </p>\n    \n    <div style=\"margin: 20px 0;\">\n      <a href=\"mailto:info@marketsage.africa\" style=\"color: #3498db; text-decoration: none; margin: 0 15px;\">üìß info@marketsage.africa</a>\n      <a href=\"https://marketsage.africa\" style=\"color: #3498db; text-decoration: none; margin: 0 15px;\">üåê www.marketsage.africa</a>\n    </div>\n    \n    <p style=\"margin: 15px 0 0 0; font-size: 12px; opacity: 0.7;\">\n      This email was sent to {{email}}. Questions? Just reply to this email.\n    </p>\n  </div>\n\n</div>\n",
  "listIds": [
    "test-list-001"
  ]
}
 POST /api/email/campaigns 201 in 119ms
[2025-07-07T14:24:27.928Z] INFO: API Request: POST /api/email/campaigns/cf9d75e6-0c77-4212-b360-64977d64f7ed/send {"method":"POST","path":"/api/email/campaigns/cf9d75e6-0c77-4212-b360-64977d64f7ed/send","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 ‚úì Compiled /api/email/campaigns/[id]/send in 320ms (439 modules)
Using existing Prisma client instance
Successfully connected to database
=== SEND ENDPOINT ENTRY POINT ===
Send endpoint called
Session: exists
Campaign ID: cf9d75e6-0c77-4212-b360-64977d64f7ed
Request body: {}
Validation result: { success: true, data: { useOptimalSendTime: false } }
Calling sendCampaign function...
Creating new Prisma client instance
Successfully connected to database
[2025-07-07T14:24:30.980Z] INFO: Email sent successfully via SMTP {"to":"supremeoye@outlook.com","subject":"üöÄ {{firstName}}, Transform Your Marketing with MarketSage - Exclusive Offer Inside!","messageId":"<94e7ddfc-11e3-4343-a8c8-757ec729929f@marketsage.africa>","smtpHost":"smtppro.zoho.com"}
[2025-07-07T14:24:30.997Z] INFO: Email sent and activity recorded {"contactId":"28125882-ffe4-4cf4-82c2-a322814b4876","campaignId":"cf9d75e6-0c77-4212-b360-64977d64f7ed","messageId":"<94e7ddfc-11e3-4343-a8c8-757ec729929f@marketsage.africa>"}
[2025-07-07T14:24:34.756Z] INFO: Email sent successfully via SMTP {"to":"kolajoseph87@gmail.com","subject":"üöÄ {{firstName}}, Transform Your Marketing with MarketSage - Exclusive Offer Inside!","messageId":"<4c165485-acba-43a0-967e-4f1c88d27170@marketsage.africa>","smtpHost":"smtppro.zoho.com"}
[2025-07-07T14:24:34.780Z] INFO: Email sent and activity recorded {"contactId":"479dd5a2-4b73-49e6-891d-2ab9f718f44d","campaignId":"cf9d75e6-0c77-4212-b360-64977d64f7ed","messageId":"<4c165485-acba-43a0-967e-4f1c88d27170@marketsage.africa>"}
Campaign send result: {
  success: true,
  totalContacts: 2,
  sentCount: 2,
  failedCount: 0,
  details: {}
}
 POST /api/email/campaigns/cf9d75e6-0c77-4212-b360-64977d64f7ed/send 200 in 6870ms
[2025-07-07T14:35:12.459Z] INFO: API Request: GET /api/auth/csrf {"method":"GET","path":"/api/auth/csrf","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 GET /api/auth/csrf 200 in 26ms
[2025-07-07T14:35:12.495Z] INFO: API Request: POST /api/auth/callback/credentials {"method":"POST","path":"/api/auth/callback/credentials","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 POST /api/auth/callback/credentials 200 in 52ms
[2025-07-07T14:35:12.559Z] INFO: API Request: GET /api/auth/session {"method":"GET","path":"/api/auth/session","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 GET /api/auth/session 200 in 8ms
[2025-07-07T14:35:12.571Z] INFO: API Request: GET /api/contacts {"method":"GET","path":"/api/contacts","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 ‚úì Compiled /api/contacts in 501ms (614 modules)
Using existing Prisma client instance
Successfully connected to database
 GET /api/contacts 200 in 659ms
[2025-07-07T14:35:13.238Z] INFO: API Request: POST /api/contacts/28125882-ffe4-4cf4-82c2-a322814b4876/send-email {"method":"POST","path":"/api/contacts/28125882-ffe4-4cf4-82c2-a322814b4876/send-email","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 ‚úì Compiled /api/contacts/[id]/send-email in 154ms (895 modules)
Using existing Prisma client instance
Successfully connected to database
Creating new Prisma client instance
Error: Route "/api/contacts/[id]/send-email" used `params.id`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at POST (src/app/api/contacts/[id]/send-email/route.ts:26:29)
  24 |     }
  25 |
> 26 |     const contactId = params.id;
     |                             ^
  27 |     const body = await request.json();
  28 |     const validatedData = sendEmailSchema.parse(body);
  29 |
Successfully connected to database
[2025-07-07T14:35:16.539Z] INFO: Email sent successfully via SMTP {"to":"supremeoye@outlook.com","subject":"üöÄ Personal Message from MarketSage - {{firstName}} Edition!","messageId":"<712f56b1-3f7b-4788-8d5c-417d23110b7b@marketsage.africa>","smtpHost":"smtppro.zoho.com"}
[2025-07-07T14:35:16.562Z] INFO: Test email sent successfully (no activity record created) {"contactId":"28125882-ffe4-4cf4-82c2-a322814b4876","testCampaignId":"individual-30fae9f2-a931-4884-aa7f-f6d61be5b011","messageId":"<712f56b1-3f7b-4788-8d5c-417d23110b7b@marketsage.africa>"}
[2025-07-07T14:35:16.563Z] INFO: Email sent and activity recorded {"contactId":"28125882-ffe4-4cf4-82c2-a322814b4876","campaignId":"individual-30fae9f2-a931-4884-aa7f-f6d61be5b011","messageId":"<712f56b1-3f7b-4788-8d5c-417d23110b7b@marketsage.africa>"}
 POST /api/contacts/28125882-ffe4-4cf4-82c2-a322814b4876/send-email 200 in 3326ms
 ‚úì Compiled in 95ms (616 modules)
[2025-07-07T14:36:03.677Z] INFO: API Request: GET /api/auth/csrf {"method":"GET","path":"/api/auth/csrf","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 GET /api/auth/csrf 200 in 74ms
[2025-07-07T14:36:03.761Z] INFO: API Request: POST /api/auth/callback/credentials {"method":"POST","path":"/api/auth/callback/credentials","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 POST /api/auth/callback/credentials 200 in 77ms
[2025-07-07T14:36:03.853Z] INFO: API Request: GET /api/auth/session {"method":"GET","path":"/api/auth/session","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 GET /api/auth/session 200 in 10ms
[2025-07-07T14:36:03.867Z] INFO: API Request: GET /api/contacts {"method":"GET","path":"/api/contacts","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
Using existing Prisma client instance
Successfully connected to database
 GET /api/contacts 200 in 31ms
[2025-07-07T14:36:03.902Z] INFO: API Request: POST /api/contacts/28125882-ffe4-4cf4-82c2-a322814b4876/send-email {"method":"POST","path":"/api/contacts/28125882-ffe4-4cf4-82c2-a322814b4876/send-email","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
Creating new Prisma client instance
Successfully connected to database
[2025-07-07T14:36:06.907Z] INFO: Email sent successfully via SMTP {"to":"supremeoye@outlook.com","subject":"‚úÖ Fixed Individual Email - {{firstName}} Edition!","messageId":"<aab4d849-3cca-4336-83ac-b0fd653c10a2@marketsage.africa>","smtpHost":"smtppro.zoho.com"}
[2025-07-07T14:36:06.921Z] INFO: Test email sent successfully (no activity record created) {"contactId":"28125882-ffe4-4cf4-82c2-a322814b4876","testCampaignId":"individual-b571ede5-1ca3-472d-994d-7e6271d6e7a2","messageId":"<aab4d849-3cca-4336-83ac-b0fd653c10a2@marketsage.africa>"}
[2025-07-07T14:36:06.921Z] INFO: Email sent and activity recorded {"contactId":"28125882-ffe4-4cf4-82c2-a322814b4876","campaignId":"individual-b571ede5-1ca3-472d-994d-7e6271d6e7a2","messageId":"<aab4d849-3cca-4336-83ac-b0fd653c10a2@marketsage.africa>"}
 POST /api/contacts/28125882-ffe4-4cf4-82c2-a322814b4876/send-email 200 in 3020ms
prisma:error Error in PostgreSQL connection: Error { kind: Db, cause: Some(DbError { severity: "FATAL", parsed_severity: Some(Fatal), code: SqlState(E57P01), message: "terminating connection due to administrator command", detail: None, hint: None, position: None, where_: None, schema: None, table: None, column: None, datatype: None, constraint: None, file: Some("postgres.c"), line: Some(3286), routine: Some("ProcessInterrupts") }) }
[2025-07-07T15:13:14.090Z] INFO: API Request: GET /api/auth/csrf {"method":"GET","path":"/api/auth/csrf","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 GET /api/auth/csrf 200 in 49ms
[2025-07-07T15:13:14.154Z] INFO: API Request: POST /api/auth/callback/credentials {"method":"POST","path":"/api/auth/callback/credentials","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
Error with dev user: Error [PrismaClientKnownRequestError]: 
Invalid `prisma.user.findUnique()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async Object.authorize (src/lib/auth.ts:115:27)
  113 |             try {
  114 |               // Check if user exists in the database
> 115 |               let dbUser = await prisma.user.findUnique({
      |                           ^
  116 |                 where: { email: credentials.email },
  117 |                 select: {
  118 |                   id: true, {
  code: 'P1001',
  meta: [Object],
  clientVersion: '6.9.0'
}
 POST /api/auth/callback/credentials 200 in 149ms
[2025-07-07T15:13:14.325Z] INFO: API Request: GET /api/email/campaigns {"method":"GET","path":"/api/email/campaigns","query":{},"ip":"127.0.0.1","userAgent":"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)","tenantId":"anonymous"}
 ‚úì Compiled /api/email/campaigns in 227ms (369 modules)
Using existing Prisma client instance
Successfully connected to database
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
Database connection lost
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
Database connection lost
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
Database connection lost
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
Database connection lost
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
Database connection lost
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
Database connection lost
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
Database connection lost
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
Database connection lost
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
Database connection lost
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
Database connection lost
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
Database connection lost
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
Database connection lost
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database health check failed: Error [PrismaClientInitializationError]: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  153 |       attempts++;
  154 |       const startTime = Date.now();
> 155 |       const result = await next(params);
      |                     ^
  156 |       const duration = Date.now() - startTime;
  157 |       
  158 |       // Log slow queries (only in development) {
  clientVersion: '6.9.0',
  errorCode: undefined,
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database health check failed: Error [PrismaClientInitializationError]: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  153 |       attempts++;
  154 |       const startTime = Date.now();
> 155 |       const result = await next(params);
      |                     ^
  156 |       const duration = Date.now() - startTime;
  157 |       
  158 |       // Log slow queries (only in development) {
  clientVersion: '6.9.0',
  errorCode: undefined,
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database health check failed: Error [PrismaClientInitializationError]: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  153 |       attempts++;
  154 |       const startTime = Date.now();
> 155 |       const result = await next(params);
      |                     ^
  156 |       const duration = Date.now() - startTime;
  157 |       
  158 |       // Log slow queries (only in development) {
  clientVersion: '6.9.0',
  errorCode: undefined,
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database health check failed: Error [PrismaClientInitializationError]: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  153 |       attempts++;
  154 |       const startTime = Date.now();
> 155 |       const result = await next(params);
      |                     ^
  156 |       const duration = Date.now() - startTime;
  157 |       
  158 |       // Log slow queries (only in development) {
  clientVersion: '6.9.0',
  errorCode: undefined,
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database health check failed: Error [PrismaClientInitializationError]: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  153 |       attempts++;
  154 |       const startTime = Date.now();
> 155 |       const result = await next(params);
      |                     ^
  156 |       const duration = Date.now() - startTime;
  157 |       
  158 |       // Log slow queries (only in development) {
  clientVersion: '6.9.0',
  errorCode: undefined,
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database health check failed: Error [PrismaClientInitializationError]: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  153 |       attempts++;
  154 |       const startTime = Date.now();
> 155 |       const result = await next(params);
      |                     ^
  156 |       const duration = Date.now() - startTime;
  157 |       
  158 |       // Log slow queries (only in development) {
  clientVersion: '6.9.0',
  errorCode: undefined,
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
 GET /api/email/campaigns 200 in 119752ms
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database health check failed: Error [PrismaClientInitializationError]: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  153 |       attempts++;
  154 |       const startTime = Date.now();
> 155 |       const result = await next(params);
      |                     ^
  156 |       const duration = Date.now() - startTime;
  157 |       
  158 |       // Log slow queries (only in development) {
  clientVersion: '6.9.0',
  errorCode: undefined,
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database health check failed: Error [PrismaClientInitializationError]: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  153 |       attempts++;
  154 |       const startTime = Date.now();
> 155 |       const result = await next(params);
      |                     ^
  156 |       const duration = Date.now() - startTime;
  157 |       
  158 |       // Log slow queries (only in development) {
  clientVersion: '6.9.0',
  errorCode: undefined,
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database health check failed: Error [PrismaClientInitializationError]: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  153 |       attempts++;
  154 |       const startTime = Date.now();
> 155 |       const result = await next(params);
      |                     ^
  156 |       const duration = Date.now() - startTime;
  157 |       
  158 |       // Log slow queries (only in development) {
  clientVersion: '6.9.0',
  errorCode: undefined,
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database health check failed: Error [PrismaClientInitializationError]: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  153 |       attempts++;
  154 |       const startTime = Date.now();
> 155 |       const result = await next(params);
      |                     ^
  156 |       const duration = Date.now() - startTime;
  157 |       
  158 |       // Log slow queries (only in development) {
  clientVersion: '6.9.0',
  errorCode: undefined,
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database health check failed: Error [PrismaClientInitializationError]: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  153 |       attempts++;
  154 |       const startTime = Date.now();
> 155 |       const result = await next(params);
      |                     ^
  156 |       const duration = Date.now() - startTime;
  157 |       
  158 |       // Log slow queries (only in development) {
  clientVersion: '6.9.0',
  errorCode: undefined,
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database health check failed: Error [PrismaClientInitializationError]: 
Invalid `prisma.$queryRaw()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async client.$healthCheck (src/lib/db/prisma.ts:47:8)
    at async eval (src/lib/db/prisma.ts:293:22)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  153 |       attempts++;
  154 |       const startTime = Date.now();
> 155 |       const result = await next(params);
      |                     ^
  156 |       const duration = Date.now() - startTime;
  157 |       
  158 |       // Log slow queries (only in development) {
  clientVersion: '6.9.0',
  errorCode: undefined,
  retryable: undefined
}
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async runWithRetry (src/lib/db/prisma.ts:155:21)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (1/3)...
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Database connection error, retrying (2/3)...
Database reconnection failed: Error [PrismaClientInitializationError]: Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at async client.$reconnect (src/lib/db/prisma.ts:59:8)
    at async runWithRetry (src/lib/db/prisma.ts:260:10)
    at async GET (src/app/api/email/campaigns/route.ts:61:22)
  57 |       try {
  58 |         await client.$disconnect();
> 59 |         await client.$connect();
     |        ^
  60 |         return await client.$healthCheck();
  61 |       } catch (error) {
  62 |         console.error('Database reconnection failed:', error); {
  clientVersion: '6.9.0',
  errorCode: 'P1001',
  retryable: undefined
}
prisma:error 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
Schema mismatch error detected: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
[2025-07-07T15:17:17.835Z] ERROR: SERVER_ERROR: 
Invalid `prisma.emailCampaign.findMany()` invocation:


Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`. "PrismaClientInitializationError: \nInvalid `prisma.emailCampaign.findMany()` invocation:\n\n\nCan't reach database server at `localhost:5432`\n\nPlease make sure your database server is running at `localhost:5432`.\n    at Zn.handleRequestError (/Users/supreme/Desktop/marketsage/node_modules/.prisma/client/runtime/library.js:124:7759)\n    at Zn.handleAndLogRequestError (/Users/supreme/Desktop/marketsage/node_modules/.prisma/client/runtime/library.js:124:6784)\n    at Zn.request (/Users/supreme/Desktop/marketsage/node_modules/.prisma/client/runtime/library.js:124:6491)\n    at async l (/Users/supreme/Desktop/marketsage/node_modules/.prisma/client/runtime/library.js:133:9778)\n    at async runWithRetry (webpack-internal:///(rsc)/./src/lib/db/prisma.ts:136:28)\n    at async GET (webpack-internal:///(rsc)/./src/app/api/email/campaigns/route.ts:68:27)\n    at async AppRouteRouteModule.do (/Users/supreme/Desktop/marketsage/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:34112)\n    at async AppRouteRouteModule.handle (/Users/supreme/Desktop/marketsage/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:41338)\n    at async doRender (/Users/supreme/Desktop/marketsage/node_modules/next/dist/server/base-server.js:1518:42)\n    at async DevServer.renderToResponseWithComponentsImpl (/Users/supreme/Desktop/marketsage/node_modules/next/dist/server/base-server.js:1920:28)\n    at async DevServer.renderPageComponent (/Users/supreme/Desktop/marketsage/node_modules/next/dist/server/base-server.js:2408:24)\n    at async DevServer.renderToResponseImpl (/Users/supreme/Desktop/marketsage/node_modules/next/dist/server/base-server.js:2445:32)\n    at async DevServer.pipeImpl (/Users/supreme/Desktop/marketsage/node_modules/next/dist/server/base-server.js:1008:25)\n    at async NextNodeServer.handleCatchallRenderRequest (/Users/supreme/Desktop/marketsage/node_modules/next/dist/server/next-server.js:305:17)\n    at async DevServer.handleRequestImpl (/Users/supreme/Desktop/marketsage/node_modules/next/dist/server/base-server.js:900:17)\n    at async /Users/supreme/Desktop/marketsage/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n    at async Span.traceAsyncFn (/Users/supreme/Desktop/marketsage/node_modules/next/dist/trace/trace.js:157:20)\n    at async DevServer.handleRequest (/Users/supreme/Desktop/marketsage/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n    at async invokeRender (/Users/supreme/Desktop/marketsage/node_modules/next/dist/server/lib/router-server.js:237:21)\n    at async handleRequest (/Users/supreme/Desktop/marketsage/node_modules/next/dist/server/lib/router-server.js:428:24)\n    at async requestHandlerImpl (/Users/supreme/Desktop/marketsage/node_modules/next/dist/server/lib/router-server.js:452:13)\n    at async Server.requestListener (/Users/supreme/Desktop/marketsage/node_modules/next/dist/server/lib/start-server.js:158:13)"
 ‚úì Compiled in 113ms
 ‚úì Compiled in 333ms (535 modules)
 ‚úì Compiled in 222ms (535 modules)
 ‚úì Compiled in 127ms (535 modules)
 ‚úì Compiled in 103ms (535 modules)
 ‚úì Compiled in 105ms (535 modules)
 ‚úì Compiled in 126ms (535 modules)
 ‚úì Compiled in 98ms (535 modules)
 ‚úì Compiled in 106ms (535 modules)
 ‚úì Compiled in 87ms (535 modules)
 ‚úì Compiled in 121ms (535 modules)
 ‚úì Compiled in 67ms (535 modules)
 ‚úì Compiled in 175ms (535 modules)
 ‚úì Compiled in 88ms (535 modules)
 ‚úì Compiled in 123ms (535 modules)
 ‚úì Compiled in 98ms (535 modules)
 ‚úì Compiled in 153ms (535 modules)
 ‚úì Compiled in 90ms (535 modules)
 ‚úì Compiled in 84ms (535 modules)
 ‚úì Compiled in 95ms (535 modules)
 ‚úì Compiled in 107ms (535 modules)
 ‚úì Compiled in 97ms (535 modules)
 ‚úì Compiled in 105ms (535 modules)
 ‚úì Compiled in 150ms (535 modules)
 ‚úì Compiled in 213ms (535 modules)
 ‚úì Compiled in 110ms (535 modules)
 ‚úì Compiled in 92ms (535 modules)
 ‚úì Compiled in 302ms (535 modules)
 ‚úì Compiled in 301ms (535 modules)
 ‚úì Compiled in 170ms (535 modules)
 ‚úì Compiled in 508ms (535 modules)
 ‚úì Compiled in 587ms (535 modules)
 ‚úì Compiled in 502ms (535 modules)
 ‚úì Compiled in 698ms (535 modules)
 ‚úì Compiled in 177ms (535 modules)
 ‚úì Compiled in 383ms (535 modules)
 ‚úì Compiled in 273ms (535 modules)
 ‚úì Compiled in 166ms (535 modules)
 ‚úì Compiled in 309ms (535 modules)
 ‚úì Compiled in 212ms (535 modules)
 ‚úì Compiled in 442ms (535 modules)
 ‚úì Compiled in 211ms (535 modules)
 ‚úì Compiled in 182ms (535 modules)
 ‚úì Compiled in 183ms (535 modules)
[2025-07-08T17:18:48.695Z] INFO: API Request: GET /api/live/ws {"method":"GET","path":"/api/live/ws","query":{},"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","tenantId":"anonymous"}
[2025-07-08T17:19:21.471Z] INFO: API Request: GET /api/live/ws {"method":"GET","path":"/api/live/ws","query":{},"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","tenantId":"anonymous"}
[2025-07-08T17:19:53.419Z] INFO: API Request: GET /api/live/ws {"method":"GET","path":"/api/live/ws","query":{},"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","tenantId":"anonymous"}
[2025-07-08T17:20:30.428Z] INFO: API Request: GET /api/live/ws {"method":"GET","path":"/api/live/ws","query":{},"ip":"127.0.0.1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","tenantId":"anonymous"}
 ‚úì Compiled in 752ms (535 modules)
 ‚úì Compiled in 165ms (535 modules)
 ‚úì Compiled in 158ms (535 modules)
 ‚úì Compiled in 358ms (535 modules)
 ‚úì Compiled in 178ms (535 modules)
 ‚úì Compiled in 563ms (535 modules)
[?25h
