8d76dcb05654f2da41d3c75701e2315b
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    CACHE_KEYS: function() {
        return CACHE_KEYS;
    },
    CACHE_TTL: function() {
        return CACHE_TTL;
    },
    redisCache: function() {
        return redisCache;
    }
});
const _redis = require("redis");
/**
 * Redis caching client for MarketSage
 * Provides session storage, API caching, and performance optimization
 */ class RedisCacheClient {
    constructor(){
        this.client = null;
        this.connected = false;
        this.connectionAttempts = 0;
        this.maxRetries = 3;
        // Only initialize if we're not in build mode
        if (!this.isBuildTime()) {
            this.initialize();
        } else {
            console.log('Redis client initialization skipped - build mode detected');
        }
    }
    isBuildTime() {
        return process.env.NEXT_PHASE === 'phase-production-build' || process.env.BUILDING === 'true' || process.argv.includes('build') || process.argv.includes('next') && process.argv.includes('build');
    }
    /**
   * Initialize Redis connection
   */ async initialize() {
        try {
            // Environment-aware Redis configuration
            const isDocker = process.env.DOCKER_ENV === 'true' || process.env.NODE_ENV === 'production';
            const redisUrl = isDocker ? process.env.REDIS_URL || 'redis://marketsage-valkey:6379' : 'redis://localhost:6379';
            console.log(`Initializing Redis client for ${isDocker ? 'Docker' : 'local'} environment: ${redisUrl}`);
            this.client = (0, _redis.createClient)({
                url: redisUrl,
                socket: {
                    connectTimeout: 5000,
                    lazyConnect: true,
                    reconnectStrategy: (retries)=>{
                        if (retries > this.maxRetries) {
                            console.warn('Redis max retries exceeded - running without cache');
                            return false;
                        }
                        return Math.min(retries * 100, 3000);
                    }
                }
            });
            this.client.on('connect', ()=>{
                console.log('Redis client connected');
                this.connected = true;
                this.connectionAttempts = 0;
            });
            this.client.on('error', (err)=>{
                console.warn('Redis client error (app will continue without cache):', err.message);
                this.connected = false;
            });
            this.client.on('disconnect', ()=>{
                console.log('Redis client disconnected');
                this.connected = false;
            });
            // Connect to Redis
            await this.client.connect();
        } catch (error) {
            console.error('Failed to initialize Redis client:', error);
            this.connected = false;
        }
    }
    /**
   * Ensure Redis connection is available
   */ async ensureConnection() {
        if (this.connected && this.client) {
            return true;
        }
        if (this.connectionAttempts >= this.maxRetries) {
            return false;
        }
        this.connectionAttempts++;
        try {
            await this.initialize();
            return this.connected;
        } catch (error) {
            console.error('Failed to reconnect to Redis:', error);
            return false;
        }
    }
    /**
   * Set a value in cache with TTL
   */ async set(key, value, ttlSeconds = 3600) {
        try {
            if (!await this.ensureConnection() || !this.client) {
                return false;
            }
            const cacheItem = {
                data: value,
                timestamp: Date.now(),
                ttl: ttlSeconds
            };
            await this.client.setEx(key, ttlSeconds, JSON.stringify(cacheItem));
            return true;
        } catch (error) {
            console.error('Redis SET error:', error);
            return false;
        }
    }
    /**
   * Get a value from cache
   */ async get(key) {
        try {
            if (!await this.ensureConnection() || !this.client) {
                return null;
            }
            const cached = await this.client.get(key);
            if (!cached) {
                return null;
            }
            const cacheItem = JSON.parse(cached);
            // Check if expired (additional safety check)
            const age = (Date.now() - cacheItem.timestamp) / 1000;
            if (age > cacheItem.ttl) {
                await this.delete(key);
                return null;
            }
            return cacheItem.data;
        } catch (error) {
            console.error('Redis GET error:', error);
            return null;
        }
    }
    /**
   * Delete a key from cache
   */ async delete(key) {
        try {
            if (!await this.ensureConnection() || !this.client) {
                return false;
            }
            await this.client.del(key);
            return true;
        } catch (error) {
            console.error('Redis DELETE error:', error);
            return false;
        }
    }
    /**
   * Check if a key exists in cache
   */ async exists(key) {
        try {
            if (!await this.ensureConnection() || !this.client) {
                return false;
            }
            const result = await this.client.exists(key);
            return result === 1;
        } catch (error) {
            console.error('Redis EXISTS error:', error);
            return false;
        }
    }
    /**
   * Set multiple values at once
   */ async mset(items, ttlSeconds = 3600) {
        try {
            if (!await this.ensureConnection() || !this.client) {
                return false;
            }
            const pipeline = this.client.multi();
            for (const [key, value] of Object.entries(items)){
                const cacheItem = {
                    data: value,
                    timestamp: Date.now(),
                    ttl: ttlSeconds
                };
                pipeline.setEx(key, ttlSeconds, JSON.stringify(cacheItem));
            }
            await pipeline.exec();
            return true;
        } catch (error) {
            console.error('Redis MSET error:', error);
            return false;
        }
    }
    /**
   * Get multiple values at once
   */ async mget(keys) {
        try {
            if (!await this.ensureConnection() || !this.client) {
                return keys.reduce((acc, key)=>({
                        ...acc,
                        [key]: null
                    }), {});
            }
            const values = await this.client.mGet(keys);
            const result = {};
            for(let i = 0; i < keys.length; i++){
                const key = keys[i];
                const value = values[i];
                if (value) {
                    try {
                        const cacheItem = JSON.parse(value);
                        // Check if expired
                        const age = (Date.now() - cacheItem.timestamp) / 1000;
                        if (age <= cacheItem.ttl) {
                            result[key] = cacheItem.data;
                        } else {
                            result[key] = null;
                            // Delete expired key
                            this.delete(key);
                        }
                    } catch  {
                        result[key] = null;
                    }
                } else {
                    result[key] = null;
                }
            }
            return result;
        } catch (error) {
            console.error('Redis MGET error:', error);
            return keys.reduce((acc, key)=>({
                    ...acc,
                    [key]: null
                }), {});
        }
    }
    /**
   * Increment a counter
   */ async increment(key, by = 1) {
        try {
            if (!await this.ensureConnection() || !this.client) {
                return null;
            }
            const result = await this.client.incrBy(key, by);
            return result;
        } catch (error) {
            console.error('Redis INCREMENT error:', error);
            return null;
        }
    }
    /**
   * Set expiration for a key
   */ async expire(key, seconds) {
        try {
            if (!await this.ensureConnection() || !this.client) {
                return false;
            }
            const result = await this.client.expire(key, seconds);
            return result;
        } catch (error) {
            console.error('Redis EXPIRE error:', error);
            return false;
        }
    }
    /**
   * Get Redis connection status
   */ isConnected() {
        return this.connected;
    }
    /**
   * Get Redis memory information and health metrics
   */ async getMemoryInfo() {
        try {
            if (!await this.ensureConnection() || !this.client) {
                return null;
            }
            const info = await this.client.info('memory');
            const stats = await this.client.info('stats');
            const server = await this.client.info('server');
            const clients = await this.client.info('clients');
            // Parse memory info
            const memoryMatch = info.match(/used_memory:(\d+)/);
            const memoryHumanMatch = info.match(/used_memory_human:(.+)/);
            const memoryPeakMatch = info.match(/used_memory_peak:(\d+)/);
            const memoryPeakHumanMatch = info.match(/used_memory_peak_human:(.+)/);
            const maxMemoryMatch = info.match(/maxmemory:(\d+)/);
            const maxMemoryHumanMatch = info.match(/maxmemory_human:(.+)/);
            // Parse stats
            const hitsMatch = stats.match(/keyspace_hits:(\d+)/);
            const missesMatch = stats.match(/keyspace_misses:(\d+)/);
            // Parse clients info
            const connectedClientsMatch = clients.match(/connected_clients:(\d+)/);
            // Parse uptime
            const uptimeMatch = server.match(/uptime_in_seconds:(\d+)/);
            const usedMemory = memoryMatch ? Number.parseInt(memoryMatch[1]) : 0;
            const maxMemory = maxMemoryMatch ? Number.parseInt(maxMemoryMatch[1]) : 0;
            const hits = hitsMatch ? Number.parseInt(hitsMatch[1]) : 0;
            const misses = missesMatch ? Number.parseInt(missesMatch[1]) : 0;
            return {
                used_memory: usedMemory,
                used_memory_human: memoryHumanMatch ? memoryHumanMatch[1].trim() : '0B',
                used_memory_peak: memoryPeakMatch ? Number.parseInt(memoryPeakMatch[1]) : 0,
                used_memory_peak_human: memoryPeakHumanMatch ? memoryPeakHumanMatch[1].trim() : '0B',
                maxmemory: maxMemory,
                maxmemory_human: maxMemoryHumanMatch ? maxMemoryHumanMatch[1].trim() : '0B',
                memory_usage_percentage: maxMemory > 0 ? usedMemory / maxMemory * 100 : 0,
                connected_clients: connectedClientsMatch ? Number.parseInt(connectedClientsMatch[1]) : 0,
                keyspace_hits: hits,
                keyspace_misses: misses,
                hit_rate: hits + misses > 0 ? hits / (hits + misses) * 100 : 0,
                uptime_in_seconds: uptimeMatch ? Number.parseInt(uptimeMatch[1]) : 0
            };
        } catch (error) {
            console.error('Redis memory info error:', error);
            return null;
        }
    }
    /**
   * Ping Redis server to check connectivity
   */ async ping() {
        try {
            if (!await this.ensureConnection() || !this.client) {
                return false;
            }
            const response = await this.client.ping();
            return response === 'PONG';
        } catch (error) {
            console.error('Redis ping error:', error);
            return false;
        }
    }
    /**
   * Close Redis connection
   */ async disconnect() {
        try {
            if (this.client) {
                await this.client.disconnect();
                this.connected = false;
            }
        } catch (error) {
            console.error('Error disconnecting from Redis:', error);
        }
    }
    /**
   * Flush all data from Redis (use with caution)
   */ async flushAll() {
        try {
            if (!await this.ensureConnection() || !this.client) {
                return false;
            }
            await this.client.flushAll();
            return true;
        } catch (error) {
            console.error('Redis FLUSH error:', error);
            return false;
        }
    }
}
const redisCache = new RedisCacheClient();
const CACHE_KEYS = {
    SESSION: (sessionId)=>`session:${sessionId}`,
    USER: (userId)=>`user:${userId}`,
    CONTACT: (contactId)=>`contact:${contactId}`,
    CAMPAIGN: (campaignId)=>`campaign:${campaignId}`,
    ANALYTICS: (orgId, period)=>`analytics:${orgId}:${period}`,
    API_RATE_LIMIT: (identifier)=>`rate_limit:${identifier}`,
    AI_RESPONSE: (hash)=>`ai_response:${hash}`,
    EMAIL_TEMPLATE: (templateId)=>`email_template:${templateId}`,
    SMS_TEMPLATE: (templateId)=>`sms_template:${templateId}`,
    WORKFLOW: (workflowId)=>`workflow:${workflowId}`
};
const CACHE_TTL = {
    SHORT: 300,
    MEDIUM: 1800,
    LONG: 3600,
    DAY: 86400,
    WEEK: 604800,
    SESSION: 1800
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdXByZW1lL0Rlc2t0b3AvbWFya2V0c2FnZS9zcmMvbGliL2NhY2hlL3JlZGlzLWNsaWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQsIHR5cGUgUmVkaXNDbGllbnRUeXBlIH0gZnJvbSAncmVkaXMnO1xuXG5pbnRlcmZhY2UgQ2FjaGVJdGVtPFQgPSBhbnk+IHtcbiAgZGF0YTogVDtcbiAgdGltZXN0YW1wOiBudW1iZXI7XG4gIHR0bDogbnVtYmVyO1xufVxuXG4vKipcbiAqIFJlZGlzIGNhY2hpbmcgY2xpZW50IGZvciBNYXJrZXRTYWdlXG4gKiBQcm92aWRlcyBzZXNzaW9uIHN0b3JhZ2UsIEFQSSBjYWNoaW5nLCBhbmQgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uXG4gKi9cbmNsYXNzIFJlZGlzQ2FjaGVDbGllbnQge1xuICBwcml2YXRlIGNsaWVudDogUmVkaXNDbGllbnRUeXBlIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgY29ubmVjdGVkID0gZmFsc2U7XG4gIHByaXZhdGUgY29ubmVjdGlvbkF0dGVtcHRzID0gMDtcbiAgcHJpdmF0ZSBtYXhSZXRyaWVzID0gMztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBPbmx5IGluaXRpYWxpemUgaWYgd2UncmUgbm90IGluIGJ1aWxkIG1vZGVcbiAgICBpZiAoIXRoaXMuaXNCdWlsZFRpbWUoKSkge1xuICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdSZWRpcyBjbGllbnQgaW5pdGlhbGl6YXRpb24gc2tpcHBlZCAtIGJ1aWxkIG1vZGUgZGV0ZWN0ZWQnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGlzQnVpbGRUaW1lKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBwcm9jZXNzLmVudi5ORVhUX1BIQVNFID09PSAncGhhc2UtcHJvZHVjdGlvbi1idWlsZCcgfHwgXG4gICAgICBwcm9jZXNzLmVudi5CVUlMRElORyA9PT0gJ3RydWUnIHx8XG4gICAgICBwcm9jZXNzLmFyZ3YuaW5jbHVkZXMoJ2J1aWxkJykgfHxcbiAgICAgIHByb2Nlc3MuYXJndi5pbmNsdWRlcygnbmV4dCcpICYmIHByb2Nlc3MuYXJndi5pbmNsdWRlcygnYnVpbGQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIFJlZGlzIGNvbm5lY3Rpb25cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8gRW52aXJvbm1lbnQtYXdhcmUgUmVkaXMgY29uZmlndXJhdGlvblxuICAgICAgY29uc3QgaXNEb2NrZXIgPSBwcm9jZXNzLmVudi5ET0NLRVJfRU5WID09PSAndHJ1ZScgfHwgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJztcbiAgICAgIGNvbnN0IHJlZGlzVXJsID0gaXNEb2NrZXIgXG4gICAgICAgID8gKHByb2Nlc3MuZW52LlJFRElTX1VSTCB8fCAncmVkaXM6Ly9tYXJrZXRzYWdlLXZhbGtleTo2Mzc5JylcbiAgICAgICAgOiAncmVkaXM6Ly9sb2NhbGhvc3Q6NjM3OSc7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBJbml0aWFsaXppbmcgUmVkaXMgY2xpZW50IGZvciAke2lzRG9ja2VyID8gJ0RvY2tlcicgOiAnbG9jYWwnfSBlbnZpcm9ubWVudDogJHtyZWRpc1VybH1gKTtcbiAgICAgIFxuICAgICAgdGhpcy5jbGllbnQgPSBjcmVhdGVDbGllbnQoe1xuICAgICAgICB1cmw6IHJlZGlzVXJsLFxuICAgICAgICBzb2NrZXQ6IHtcbiAgICAgICAgICBjb25uZWN0VGltZW91dDogNTAwMCxcbiAgICAgICAgICBsYXp5Q29ubmVjdDogdHJ1ZSxcbiAgICAgICAgICByZWNvbm5lY3RTdHJhdGVneTogKHJldHJpZXMpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXRyaWVzID4gdGhpcy5tYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybignUmVkaXMgbWF4IHJldHJpZXMgZXhjZWVkZWQgLSBydW5uaW5nIHdpdGhvdXQgY2FjaGUnKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKHJldHJpZXMgKiAxMDAsIDMwMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuY2xpZW50Lm9uKCdjb25uZWN0JywgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnUmVkaXMgY2xpZW50IGNvbm5lY3RlZCcpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkF0dGVtcHRzID0gMDtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmNsaWVudC5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUud2FybignUmVkaXMgY2xpZW50IGVycm9yIChhcHAgd2lsbCBjb250aW51ZSB3aXRob3V0IGNhY2hlKTonLCBlcnIubWVzc2FnZSk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5jbGllbnQub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdSZWRpcyBjbGllbnQgZGlzY29ubmVjdGVkJyk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ29ubmVjdCB0byBSZWRpc1xuICAgICAgYXdhaXQgdGhpcy5jbGllbnQuY29ubmVjdCgpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIFJlZGlzIGNsaWVudDonLCBlcnJvcik7XG4gICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbnN1cmUgUmVkaXMgY29ubmVjdGlvbiBpcyBhdmFpbGFibGVcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZW5zdXJlQ29ubmVjdGlvbigpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAodGhpcy5jb25uZWN0ZWQgJiYgdGhpcy5jbGllbnQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbm5lY3Rpb25BdHRlbXB0cyA+PSB0aGlzLm1heFJldHJpZXMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbm5lY3Rpb25BdHRlbXB0cysrO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RlZDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHJlY29ubmVjdCB0byBSZWRpczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIHZhbHVlIGluIGNhY2hlIHdpdGggVFRMXG4gICAqL1xuICBhc3luYyBzZXQ8VD4oa2V5OiBzdHJpbmcsIHZhbHVlOiBULCB0dGxTZWNvbmRzID0gMzYwMCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIShhd2FpdCB0aGlzLmVuc3VyZUNvbm5lY3Rpb24oKSkgfHwgIXRoaXMuY2xpZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2FjaGVJdGVtOiBDYWNoZUl0ZW08VD4gPSB7XG4gICAgICAgIGRhdGE6IHZhbHVlLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHR0bDogdHRsU2Vjb25kc1xuICAgICAgfTtcblxuICAgICAgYXdhaXQgdGhpcy5jbGllbnQuc2V0RXgoa2V5LCB0dGxTZWNvbmRzLCBKU09OLnN0cmluZ2lmeShjYWNoZUl0ZW0pKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZWRpcyBTRVQgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSB2YWx1ZSBmcm9tIGNhY2hlXG4gICAqL1xuICBhc3luYyBnZXQ8VD4oa2V5OiBzdHJpbmcpOiBQcm9taXNlPFQgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghKGF3YWl0IHRoaXMuZW5zdXJlQ29ubmVjdGlvbigpKSB8fCAhdGhpcy5jbGllbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNhY2hlZCA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChrZXkpO1xuICAgICAgaWYgKCFjYWNoZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNhY2hlSXRlbTogQ2FjaGVJdGVtPFQ+ID0gSlNPTi5wYXJzZShjYWNoZWQpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBleHBpcmVkIChhZGRpdGlvbmFsIHNhZmV0eSBjaGVjaylcbiAgICAgIGNvbnN0IGFnZSA9IChEYXRlLm5vdygpIC0gY2FjaGVJdGVtLnRpbWVzdGFtcCkgLyAxMDAwO1xuICAgICAgaWYgKGFnZSA+IGNhY2hlSXRlbS50dGwpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kZWxldGUoa2V5KTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYWNoZUl0ZW0uZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUmVkaXMgR0VUIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBrZXkgZnJvbSBjYWNoZVxuICAgKi9cbiAgYXN5bmMgZGVsZXRlKGtleTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghKGF3YWl0IHRoaXMuZW5zdXJlQ29ubmVjdGlvbigpKSB8fCAhdGhpcy5jbGllbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBhd2FpdCB0aGlzLmNsaWVudC5kZWwoa2V5KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZWRpcyBERUxFVEUgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIGtleSBleGlzdHMgaW4gY2FjaGVcbiAgICovXG4gIGFzeW5jIGV4aXN0cyhrZXk6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIShhd2FpdCB0aGlzLmVuc3VyZUNvbm5lY3Rpb24oKSkgfHwgIXRoaXMuY2xpZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jbGllbnQuZXhpc3RzKGtleSk7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSAxO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZWRpcyBFWElTVFMgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbXVsdGlwbGUgdmFsdWVzIGF0IG9uY2VcbiAgICovXG4gIGFzeW5jIG1zZXQoaXRlbXM6IFJlY29yZDxzdHJpbmcsIGFueT4sIHR0bFNlY29uZHMgPSAzNjAwKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghKGF3YWl0IHRoaXMuZW5zdXJlQ29ubmVjdGlvbigpKSB8fCAhdGhpcy5jbGllbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwaXBlbGluZSA9IHRoaXMuY2xpZW50Lm11bHRpKCk7XG4gICAgICBcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGl0ZW1zKSkge1xuICAgICAgICBjb25zdCBjYWNoZUl0ZW06IENhY2hlSXRlbSA9IHtcbiAgICAgICAgICBkYXRhOiB2YWx1ZSxcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgdHRsOiB0dGxTZWNvbmRzXG4gICAgICAgIH07XG4gICAgICAgIHBpcGVsaW5lLnNldEV4KGtleSwgdHRsU2Vjb25kcywgSlNPTi5zdHJpbmdpZnkoY2FjaGVJdGVtKSk7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHBpcGVsaW5lLmV4ZWMoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZWRpcyBNU0VUIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IG11bHRpcGxlIHZhbHVlcyBhdCBvbmNlXG4gICAqL1xuICBhc3luYyBtZ2V0PFQ+KGtleXM6IHN0cmluZ1tdKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBUIHwgbnVsbD4+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCEoYXdhaXQgdGhpcy5lbnN1cmVDb25uZWN0aW9uKCkpIHx8ICF0aGlzLmNsaWVudCkge1xuICAgICAgICByZXR1cm4ga2V5cy5yZWR1Y2UoKGFjYywga2V5KSA9PiAoeyAuLi5hY2MsIFtrZXldOiBudWxsIH0pLCB7fSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGF3YWl0IHRoaXMuY2xpZW50Lm1HZXQoa2V5cyk7XG4gICAgICBjb25zdCByZXN1bHQ6IFJlY29yZDxzdHJpbmcsIFQgfCBudWxsPiA9IHt9O1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNbaV07XG5cbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlSXRlbTogQ2FjaGVJdGVtPFQ+ID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGV4cGlyZWRcbiAgICAgICAgICAgIGNvbnN0IGFnZSA9IChEYXRlLm5vdygpIC0gY2FjaGVJdGVtLnRpbWVzdGFtcCkgLyAxMDAwO1xuICAgICAgICAgICAgaWYgKGFnZSA8PSBjYWNoZUl0ZW0udHRsKSB7XG4gICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gY2FjaGVJdGVtLmRhdGE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IG51bGw7XG4gICAgICAgICAgICAgIC8vIERlbGV0ZSBleHBpcmVkIGtleVxuICAgICAgICAgICAgICB0aGlzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUmVkaXMgTUdFVCBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ga2V5cy5yZWR1Y2UoKGFjYywga2V5KSA9PiAoeyAuLi5hY2MsIFtrZXldOiBudWxsIH0pLCB7fSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluY3JlbWVudCBhIGNvdW50ZXJcbiAgICovXG4gIGFzeW5jIGluY3JlbWVudChrZXk6IHN0cmluZywgYnkgPSAxKTogUHJvbWlzZTxudW1iZXIgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghKGF3YWl0IHRoaXMuZW5zdXJlQ29ubmVjdGlvbigpKSB8fCAhdGhpcy5jbGllbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY2xpZW50LmluY3JCeShrZXksIGJ5KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlZGlzIElOQ1JFTUVOVCBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IGV4cGlyYXRpb24gZm9yIGEga2V5XG4gICAqL1xuICBhc3luYyBleHBpcmUoa2V5OiBzdHJpbmcsIHNlY29uZHM6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIShhd2FpdCB0aGlzLmVuc3VyZUNvbm5lY3Rpb24oKSkgfHwgIXRoaXMuY2xpZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jbGllbnQuZXhwaXJlKGtleSwgc2Vjb25kcyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZWRpcyBFWFBJUkUgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgUmVkaXMgY29ubmVjdGlvbiBzdGF0dXNcbiAgICovXG4gIGlzQ29ubmVjdGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3RlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgUmVkaXMgbWVtb3J5IGluZm9ybWF0aW9uIGFuZCBoZWFsdGggbWV0cmljc1xuICAgKi9cbiAgYXN5bmMgZ2V0TWVtb3J5SW5mbygpOiBQcm9taXNlPHtcbiAgICB1c2VkX21lbW9yeTogbnVtYmVyO1xuICAgIHVzZWRfbWVtb3J5X2h1bWFuOiBzdHJpbmc7XG4gICAgdXNlZF9tZW1vcnlfcGVhazogbnVtYmVyO1xuICAgIHVzZWRfbWVtb3J5X3BlYWtfaHVtYW46IHN0cmluZztcbiAgICBtYXhtZW1vcnk6IG51bWJlcjtcbiAgICBtYXhtZW1vcnlfaHVtYW46IHN0cmluZztcbiAgICBtZW1vcnlfdXNhZ2VfcGVyY2VudGFnZTogbnVtYmVyO1xuICAgIGNvbm5lY3RlZF9jbGllbnRzOiBudW1iZXI7XG4gICAga2V5c3BhY2VfaGl0czogbnVtYmVyO1xuICAgIGtleXNwYWNlX21pc3NlczogbnVtYmVyO1xuICAgIGhpdF9yYXRlOiBudW1iZXI7XG4gICAgdXB0aW1lX2luX3NlY29uZHM6IG51bWJlcjtcbiAgfSB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCEoYXdhaXQgdGhpcy5lbnN1cmVDb25uZWN0aW9uKCkpIHx8ICF0aGlzLmNsaWVudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5mbyA9IGF3YWl0IHRoaXMuY2xpZW50LmluZm8oJ21lbW9yeScpO1xuICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCB0aGlzLmNsaWVudC5pbmZvKCdzdGF0cycpO1xuICAgICAgY29uc3Qgc2VydmVyID0gYXdhaXQgdGhpcy5jbGllbnQuaW5mbygnc2VydmVyJyk7XG4gICAgICBjb25zdCBjbGllbnRzID0gYXdhaXQgdGhpcy5jbGllbnQuaW5mbygnY2xpZW50cycpO1xuXG4gICAgICAvLyBQYXJzZSBtZW1vcnkgaW5mb1xuICAgICAgY29uc3QgbWVtb3J5TWF0Y2ggPSBpbmZvLm1hdGNoKC91c2VkX21lbW9yeTooXFxkKykvKTtcbiAgICAgIGNvbnN0IG1lbW9yeUh1bWFuTWF0Y2ggPSBpbmZvLm1hdGNoKC91c2VkX21lbW9yeV9odW1hbjooLispLyk7XG4gICAgICBjb25zdCBtZW1vcnlQZWFrTWF0Y2ggPSBpbmZvLm1hdGNoKC91c2VkX21lbW9yeV9wZWFrOihcXGQrKS8pO1xuICAgICAgY29uc3QgbWVtb3J5UGVha0h1bWFuTWF0Y2ggPSBpbmZvLm1hdGNoKC91c2VkX21lbW9yeV9wZWFrX2h1bWFuOiguKykvKTtcbiAgICAgIGNvbnN0IG1heE1lbW9yeU1hdGNoID0gaW5mby5tYXRjaCgvbWF4bWVtb3J5OihcXGQrKS8pO1xuICAgICAgY29uc3QgbWF4TWVtb3J5SHVtYW5NYXRjaCA9IGluZm8ubWF0Y2goL21heG1lbW9yeV9odW1hbjooLispLyk7XG5cbiAgICAgIC8vIFBhcnNlIHN0YXRzXG4gICAgICBjb25zdCBoaXRzTWF0Y2ggPSBzdGF0cy5tYXRjaCgva2V5c3BhY2VfaGl0czooXFxkKykvKTtcbiAgICAgIGNvbnN0IG1pc3Nlc01hdGNoID0gc3RhdHMubWF0Y2goL2tleXNwYWNlX21pc3NlczooXFxkKykvKTtcblxuICAgICAgLy8gUGFyc2UgY2xpZW50cyBpbmZvXG4gICAgICBjb25zdCBjb25uZWN0ZWRDbGllbnRzTWF0Y2ggPSBjbGllbnRzLm1hdGNoKC9jb25uZWN0ZWRfY2xpZW50czooXFxkKykvKTtcblxuICAgICAgLy8gUGFyc2UgdXB0aW1lXG4gICAgICBjb25zdCB1cHRpbWVNYXRjaCA9IHNlcnZlci5tYXRjaCgvdXB0aW1lX2luX3NlY29uZHM6KFxcZCspLyk7XG5cbiAgICAgIGNvbnN0IHVzZWRNZW1vcnkgPSBtZW1vcnlNYXRjaCA/IE51bWJlci5wYXJzZUludChtZW1vcnlNYXRjaFsxXSkgOiAwO1xuICAgICAgY29uc3QgbWF4TWVtb3J5ID0gbWF4TWVtb3J5TWF0Y2ggPyBOdW1iZXIucGFyc2VJbnQobWF4TWVtb3J5TWF0Y2hbMV0pIDogMDtcbiAgICAgIGNvbnN0IGhpdHMgPSBoaXRzTWF0Y2ggPyBOdW1iZXIucGFyc2VJbnQoaGl0c01hdGNoWzFdKSA6IDA7XG4gICAgICBjb25zdCBtaXNzZXMgPSBtaXNzZXNNYXRjaCA/IE51bWJlci5wYXJzZUludChtaXNzZXNNYXRjaFsxXSkgOiAwO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB1c2VkX21lbW9yeTogdXNlZE1lbW9yeSxcbiAgICAgICAgdXNlZF9tZW1vcnlfaHVtYW46IG1lbW9yeUh1bWFuTWF0Y2ggPyBtZW1vcnlIdW1hbk1hdGNoWzFdLnRyaW0oKSA6ICcwQicsXG4gICAgICAgIHVzZWRfbWVtb3J5X3BlYWs6IG1lbW9yeVBlYWtNYXRjaCA/IE51bWJlci5wYXJzZUludChtZW1vcnlQZWFrTWF0Y2hbMV0pIDogMCxcbiAgICAgICAgdXNlZF9tZW1vcnlfcGVha19odW1hbjogbWVtb3J5UGVha0h1bWFuTWF0Y2ggPyBtZW1vcnlQZWFrSHVtYW5NYXRjaFsxXS50cmltKCkgOiAnMEInLFxuICAgICAgICBtYXhtZW1vcnk6IG1heE1lbW9yeSxcbiAgICAgICAgbWF4bWVtb3J5X2h1bWFuOiBtYXhNZW1vcnlIdW1hbk1hdGNoID8gbWF4TWVtb3J5SHVtYW5NYXRjaFsxXS50cmltKCkgOiAnMEInLFxuICAgICAgICBtZW1vcnlfdXNhZ2VfcGVyY2VudGFnZTogbWF4TWVtb3J5ID4gMCA/ICh1c2VkTWVtb3J5IC8gbWF4TWVtb3J5KSAqIDEwMCA6IDAsXG4gICAgICAgIGNvbm5lY3RlZF9jbGllbnRzOiBjb25uZWN0ZWRDbGllbnRzTWF0Y2ggPyBOdW1iZXIucGFyc2VJbnQoY29ubmVjdGVkQ2xpZW50c01hdGNoWzFdKSA6IDAsXG4gICAgICAgIGtleXNwYWNlX2hpdHM6IGhpdHMsXG4gICAgICAgIGtleXNwYWNlX21pc3NlczogbWlzc2VzLFxuICAgICAgICBoaXRfcmF0ZTogaGl0cyArIG1pc3NlcyA+IDAgPyAoaGl0cyAvIChoaXRzICsgbWlzc2VzKSkgKiAxMDAgOiAwLFxuICAgICAgICB1cHRpbWVfaW5fc2Vjb25kczogdXB0aW1lTWF0Y2ggPyBOdW1iZXIucGFyc2VJbnQodXB0aW1lTWF0Y2hbMV0pIDogMCxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlZGlzIG1lbW9yeSBpbmZvIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQaW5nIFJlZGlzIHNlcnZlciB0byBjaGVjayBjb25uZWN0aXZpdHlcbiAgICovXG4gIGFzeW5jIHBpbmcoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghKGF3YWl0IHRoaXMuZW5zdXJlQ29ubmVjdGlvbigpKSB8fCAhdGhpcy5jbGllbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LnBpbmcoKTtcbiAgICAgIHJldHVybiByZXNwb25zZSA9PT0gJ1BPTkcnO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZWRpcyBwaW5nIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgUmVkaXMgY29ubmVjdGlvblxuICAgKi9cbiAgYXN5bmMgZGlzY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMuY2xpZW50KSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY2xpZW50LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGlzY29ubmVjdGluZyBmcm9tIFJlZGlzOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmx1c2ggYWxsIGRhdGEgZnJvbSBSZWRpcyAodXNlIHdpdGggY2F1dGlvbilcbiAgICovXG4gIGFzeW5jIGZsdXNoQWxsKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIShhd2FpdCB0aGlzLmVuc3VyZUNvbm5lY3Rpb24oKSkgfHwgIXRoaXMuY2xpZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgYXdhaXQgdGhpcy5jbGllbnQuZmx1c2hBbGwoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZWRpcyBGTFVTSCBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCByZWRpc0NhY2hlID0gbmV3IFJlZGlzQ2FjaGVDbGllbnQoKTtcblxuLy8gQ2FjaGUga2V5IHByZWZpeGVzIGZvciBkaWZmZXJlbnQgZGF0YSB0eXBlc1xuZXhwb3J0IGNvbnN0IENBQ0hFX0tFWVMgPSB7XG4gIFNFU1NJT046IChzZXNzaW9uSWQ6IHN0cmluZykgPT4gYHNlc3Npb246JHtzZXNzaW9uSWR9YCxcbiAgVVNFUjogKHVzZXJJZDogc3RyaW5nKSA9PiBgdXNlcjoke3VzZXJJZH1gLFxuICBDT05UQUNUOiAoY29udGFjdElkOiBzdHJpbmcpID0+IGBjb250YWN0OiR7Y29udGFjdElkfWAsXG4gIENBTVBBSUdOOiAoY2FtcGFpZ25JZDogc3RyaW5nKSA9PiBgY2FtcGFpZ246JHtjYW1wYWlnbklkfWAsXG4gIEFOQUxZVElDUzogKG9yZ0lkOiBzdHJpbmcsIHBlcmlvZDogc3RyaW5nKSA9PiBgYW5hbHl0aWNzOiR7b3JnSWR9OiR7cGVyaW9kfWAsXG4gIEFQSV9SQVRFX0xJTUlUOiAoaWRlbnRpZmllcjogc3RyaW5nKSA9PiBgcmF0ZV9saW1pdDoke2lkZW50aWZpZXJ9YCxcbiAgQUlfUkVTUE9OU0U6IChoYXNoOiBzdHJpbmcpID0+IGBhaV9yZXNwb25zZToke2hhc2h9YCxcbiAgRU1BSUxfVEVNUExBVEU6ICh0ZW1wbGF0ZUlkOiBzdHJpbmcpID0+IGBlbWFpbF90ZW1wbGF0ZToke3RlbXBsYXRlSWR9YCxcbiAgU01TX1RFTVBMQVRFOiAodGVtcGxhdGVJZDogc3RyaW5nKSA9PiBgc21zX3RlbXBsYXRlOiR7dGVtcGxhdGVJZH1gLFxuICBXT1JLRkxPVzogKHdvcmtmbG93SWQ6IHN0cmluZykgPT4gYHdvcmtmbG93OiR7d29ya2Zsb3dJZH1gLFxufSBhcyBjb25zdDtcblxuLy8gQ2FjaGUgVFRMIGNvbnN0YW50cyAoaW4gc2Vjb25kcylcbmV4cG9ydCBjb25zdCBDQUNIRV9UVEwgPSB7XG4gIFNIT1JUOiAzMDAsICAgICAgLy8gNSBtaW51dGVzXG4gIE1FRElVTTogMTgwMCwgICAgLy8gMzAgbWludXRlcyAgXG4gIExPTkc6IDM2MDAsICAgICAgLy8gMSBob3VyXG4gIERBWTogODY0MDAsICAgICAgLy8gMjQgaG91cnNcbiAgV0VFSzogNjA0ODAwLCAgICAvLyA3IGRheXNcbiAgU0VTU0lPTjogMTgwMCwgICAvLyAzMCBtaW51dGVzIGZvciBzZXNzaW9uc1xufSBhcyBjb25zdDsiXSwibmFtZXMiOlsiQ0FDSEVfS0VZUyIsIkNBQ0hFX1RUTCIsInJlZGlzQ2FjaGUiLCJSZWRpc0NhY2hlQ2xpZW50IiwiY29uc3RydWN0b3IiLCJjbGllbnQiLCJjb25uZWN0ZWQiLCJjb25uZWN0aW9uQXR0ZW1wdHMiLCJtYXhSZXRyaWVzIiwiaXNCdWlsZFRpbWUiLCJpbml0aWFsaXplIiwiY29uc29sZSIsImxvZyIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BIQVNFIiwiQlVJTERJTkciLCJhcmd2IiwiaW5jbHVkZXMiLCJpc0RvY2tlciIsIkRPQ0tFUl9FTlYiLCJOT0RFX0VOViIsInJlZGlzVXJsIiwiUkVESVNfVVJMIiwiY3JlYXRlQ2xpZW50IiwidXJsIiwic29ja2V0IiwiY29ubmVjdFRpbWVvdXQiLCJsYXp5Q29ubmVjdCIsInJlY29ubmVjdFN0cmF0ZWd5IiwicmV0cmllcyIsIndhcm4iLCJNYXRoIiwibWluIiwib24iLCJlcnIiLCJtZXNzYWdlIiwiY29ubmVjdCIsImVycm9yIiwiZW5zdXJlQ29ubmVjdGlvbiIsInNldCIsImtleSIsInZhbHVlIiwidHRsU2Vjb25kcyIsImNhY2hlSXRlbSIsImRhdGEiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwidHRsIiwic2V0RXgiLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0IiwiY2FjaGVkIiwicGFyc2UiLCJhZ2UiLCJkZWxldGUiLCJkZWwiLCJleGlzdHMiLCJyZXN1bHQiLCJtc2V0IiwiaXRlbXMiLCJwaXBlbGluZSIsIm11bHRpIiwiT2JqZWN0IiwiZW50cmllcyIsImV4ZWMiLCJtZ2V0Iiwia2V5cyIsInJlZHVjZSIsImFjYyIsInZhbHVlcyIsIm1HZXQiLCJpIiwibGVuZ3RoIiwiaW5jcmVtZW50IiwiYnkiLCJpbmNyQnkiLCJleHBpcmUiLCJzZWNvbmRzIiwiaXNDb25uZWN0ZWQiLCJnZXRNZW1vcnlJbmZvIiwiaW5mbyIsInN0YXRzIiwic2VydmVyIiwiY2xpZW50cyIsIm1lbW9yeU1hdGNoIiwibWF0Y2giLCJtZW1vcnlIdW1hbk1hdGNoIiwibWVtb3J5UGVha01hdGNoIiwibWVtb3J5UGVha0h1bWFuTWF0Y2giLCJtYXhNZW1vcnlNYXRjaCIsIm1heE1lbW9yeUh1bWFuTWF0Y2giLCJoaXRzTWF0Y2giLCJtaXNzZXNNYXRjaCIsImNvbm5lY3RlZENsaWVudHNNYXRjaCIsInVwdGltZU1hdGNoIiwidXNlZE1lbW9yeSIsIk51bWJlciIsInBhcnNlSW50IiwibWF4TWVtb3J5IiwiaGl0cyIsIm1pc3NlcyIsInVzZWRfbWVtb3J5IiwidXNlZF9tZW1vcnlfaHVtYW4iLCJ0cmltIiwidXNlZF9tZW1vcnlfcGVhayIsInVzZWRfbWVtb3J5X3BlYWtfaHVtYW4iLCJtYXhtZW1vcnkiLCJtYXhtZW1vcnlfaHVtYW4iLCJtZW1vcnlfdXNhZ2VfcGVyY2VudGFnZSIsImNvbm5lY3RlZF9jbGllbnRzIiwia2V5c3BhY2VfaGl0cyIsImtleXNwYWNlX21pc3NlcyIsImhpdF9yYXRlIiwidXB0aW1lX2luX3NlY29uZHMiLCJwaW5nIiwicmVzcG9uc2UiLCJkaXNjb25uZWN0IiwiZmx1c2hBbGwiLCJTRVNTSU9OIiwic2Vzc2lvbklkIiwiVVNFUiIsInVzZXJJZCIsIkNPTlRBQ1QiLCJjb250YWN0SWQiLCJDQU1QQUlHTiIsImNhbXBhaWduSWQiLCJBTkFMWVRJQ1MiLCJvcmdJZCIsInBlcmlvZCIsIkFQSV9SQVRFX0xJTUlUIiwiaWRlbnRpZmllciIsIkFJX1JFU1BPTlNFIiwiaGFzaCIsIkVNQUlMX1RFTVBMQVRFIiwidGVtcGxhdGVJZCIsIlNNU19URU1QTEFURSIsIldPUktGTE9XIiwid29ya2Zsb3dJZCIsIlNIT1JUIiwiTUVESVVNIiwiTE9ORyIsIkRBWSIsIldFRUsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBaWJhQSxVQUFVO2VBQVZBOztJQWNBQyxTQUFTO2VBQVRBOztJQWpCQUMsVUFBVTtlQUFWQTs7O3VCQTlhc0M7QUFRbkQ7OztDQUdDLEdBQ0QsTUFBTUM7SUFNSkMsYUFBYzthQUxOQyxTQUFpQzthQUNqQ0MsWUFBWTthQUNaQyxxQkFBcUI7YUFDckJDLGFBQWE7UUFHbkIsNkNBQTZDO1FBQzdDLElBQUksQ0FBQyxJQUFJLENBQUNDLFdBQVcsSUFBSTtZQUN2QixJQUFJLENBQUNDLFVBQVU7UUFDakIsT0FBTztZQUNMQyxRQUFRQyxHQUFHLENBQUM7UUFDZDtJQUNGO0lBRVFILGNBQXVCO1FBQzdCLE9BQU9JLFFBQVFDLEdBQUcsQ0FBQ0MsVUFBVSxLQUFLLDRCQUNoQ0YsUUFBUUMsR0FBRyxDQUFDRSxRQUFRLEtBQUssVUFDekJILFFBQVFJLElBQUksQ0FB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