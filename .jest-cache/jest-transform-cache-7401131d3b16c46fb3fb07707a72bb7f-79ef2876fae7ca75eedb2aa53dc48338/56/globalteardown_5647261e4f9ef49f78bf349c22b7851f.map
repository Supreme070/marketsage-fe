{"version":3,"sources":["/Users/supreme/Desktop/marketsage/src/__tests__/e2e/global-teardown.ts"],"sourcesContent":["import { FullConfig } from '@playwright/test';\nimport { exec } from 'child_process';\nimport { promisify } from 'util';\n\nconst execAsync = promisify(exec);\n\n/**\n * Global teardown for MarketSage E2E tests\n * Cleans up test data and stops services\n */\nasync function globalTeardown(config: FullConfig) {\n  console.log('üßπ Cleaning up MarketSage E2E test environment...');\n\n  try {\n    // 1. Stop MCP servers\n    console.log('üîó Stopping MCP servers...');\n    await execAsync('pkill -f \"mcp-server\" || true');\n\n    // 2. Clean up test database\n    console.log('üìä Cleaning up test database...');\n    await execAsync('npm run db:reset');\n\n    // 3. Remove authentication files\n    console.log('üóëÔ∏è Removing test authentication...');\n    await execAsync('rm -f src/__tests__/e2e/auth.json');\n\n    console.log('‚úÖ E2E test environment cleaned up!');\n  } catch (error) {\n    console.error('‚ùå Failed to cleanup E2E environment:', error);\n    // Don't throw error in teardown to avoid hiding test failures\n  }\n}\n\nexport default globalTeardown;"],"names":["execAsync","promisify","exec","globalTeardown","config","console","log","error"],"mappings":";;;;+BAiCA;;;eAAA;;;+BAhCqB;sBACK;AAE1B,MAAMA,YAAYC,IAAAA,eAAS,EAACC,mBAAI;AAEhC;;;CAGC,GACD,eAAeC,eAAeC,MAAkB;IAC9CC,QAAQC,GAAG,CAAC;IAEZ,IAAI;QACF,sBAAsB;QACtBD,QAAQC,GAAG,CAAC;QACZ,MAAMN,UAAU;QAEhB,4BAA4B;QAC5BK,QAAQC,GAAG,CAAC;QACZ,MAAMN,UAAU;QAEhB,iCAAiC;QACjCK,QAAQC,GAAG,CAAC;QACZ,MAAMN,UAAU;QAEhBK,QAAQC,GAAG,CAAC;IACd,EAAE,OAAOC,OAAO;QACdF,QAAQE,KAAK,CAAC,wCAAwCA;IACtD,8DAA8D;IAChE;AACF;MAEA,WAAeJ"}